### Pair3 Amy , Jack , Daniel

### ê³¼ì œ 4ë²ˆ - ë¦¬í™í„°ë§ í•˜ê¸°

ì½”ë“œ ì „ì²´ì ìœ¼ë¡œ í¼ì ¸ìˆë˜ ìƒìˆ˜ë¡œ ì •ì˜ ëœ ëª»ë‚œë†ˆë“¤ ëª¨ì•„ë‘  (ex limit , alert ë“±)

- í˜ì´ë„¤ì´ì…˜

- pages í´ë”

- diaLog

```
ğŸ“¦spaghetti
 â”£ ğŸ“‚public
 â”ƒ â”£ ğŸ“œmockServiceWorker.js
 â”ƒ â”— ğŸ“œvite.svg
 â”£ ğŸ“‚src
 â”ƒ â”£ ğŸ“‚__mock__
 â”ƒ â”ƒ â”£ ğŸ“‚api
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œpost.api.js
 â”ƒ â”ƒ â”£ ğŸ“‚data
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œpost.data.js
 â”ƒ â”ƒ â”£ ğŸ“œ.DS_Store
 â”ƒ â”ƒ â”£ ğŸ“œbrowser.js
 â”ƒ â”ƒ â”— ğŸ“œhandler.js
 â”ƒ â”£ ğŸ“‚components
 â”ƒ â”ƒ â”£ ğŸ“‚pagenation
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œPagenation.Comment.jsx
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œPagenation.Post.jsx
 â”ƒ â”ƒ â”£ ğŸ“œ.DS_Store
 â”ƒ â”ƒ â”— ğŸ“œDialog.jsx
 â”ƒ â”£ ğŸ“‚contexts
 â”ƒ â”ƒ â”— ğŸ“œDiaLogProvider.jsx
 â”ƒ â”£ ğŸ“‚pages
 â”ƒ â”ƒ â”£ ğŸ“œHome.jsx
 â”ƒ â”ƒ â”£ ğŸ“œPost.Detail.jsx
 â”ƒ â”ƒ â”— ğŸ“œPost.List.jsx
 â”ƒ â”£ ğŸ“‚third-party
 â”ƒ â”ƒ â”£ ğŸ“œindex.js
 â”ƒ â”ƒ â”— ğŸ“œweather.config.js
 â”ƒ â”£ ğŸ“œ.DS_Store
 â”ƒ â”£ ğŸ“œApp.jsx
 â”ƒ â”£ ğŸ“œapp.css
 â”ƒ â”— ğŸ“œmain.jsx
 â”£ ğŸ“œ.DS_Store
 â”£ ğŸ“œindex.html
 â”£ ğŸ“œpackage-lock.json
 â”£ ğŸ“œpackage.json
 â”£ ğŸ“œvite.config.js
 â”— ğŸ“œyarn.lock
```

---

```
ğŸ“¦refactor
 â”£ ğŸ“‚.vite
 â”£ ğŸ“‚public
 â”ƒ â”£ ğŸ“œmockServiceWorker.js
 â”ƒ â”— ğŸ“œvite.svg
 â”£ ğŸ“‚src
 â”ƒ â”£ ğŸ“‚__mock__
 â”ƒ â”ƒ â”£ ğŸ“‚api
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œpost.api.js
 â”ƒ â”ƒ â”£ ğŸ“‚data
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œpost.data.js
 â”ƒ â”ƒ â”£ ğŸ“œ.DS_Store
 â”ƒ â”ƒ â”£ ğŸ“œbrowser.js
 â”ƒ â”ƒ â”— ğŸ“œhandler.js
 â”ƒ â”£ ğŸ“‚apis
 â”ƒ â”ƒ â”£ ğŸ“œcore.js
 â”ƒ â”ƒ â”£ ğŸ“œpost.js
 â”ƒ â”ƒ â”— ğŸ“œweather.js
 â”ƒ â”£ ğŸ“‚components
 â”ƒ â”ƒ â”£ ğŸ“‚pagenation
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œpagenation.button.jsx
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œpagination.txt
 â”ƒ â”ƒ â”£ ğŸ“œ.DS_Store
 â”ƒ â”ƒ â”— ğŸ“œDialog.jsx
 â”ƒ â”£ ğŸ“‚consts
 â”ƒ â”ƒ â”£ ğŸ“œdialog.config.jsx
 â”ƒ â”ƒ â”— ğŸ“œpagenation.config.jsx
 â”ƒ â”£ ğŸ“‚contexts
 â”ƒ â”ƒ â”— ğŸ“œDiaLogProvider.jsx
 â”ƒ â”£ ğŸ“‚pages
 â”ƒ â”ƒ â”£ ğŸ“‚home
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚components
 â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“œusername.jsx
 â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“œweather.jsx
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œhome.jsx
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œhomepage.txt
 â”ƒ â”ƒ â”£ ğŸ“‚postDetail
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚components
 â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“œcommentList.jsx
 â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“œdetailPost.jsx
 â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“œoneComment.jsx
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œPost.Detail.jsx
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œpostDetail.txt
 â”ƒ â”ƒ â”— ğŸ“‚postList
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚components
 â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“œonePost.jsx
 â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“œpostList.jsx
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œpost.ListPage.jsx
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œpostList.txt
 â”ƒ â”£ ğŸ“‚routers
 â”ƒ â”ƒ â”— ğŸ“œrouter.js
 â”ƒ â”£ ğŸ“‚third-party
 â”ƒ â”ƒ â”£ ğŸ“œindex.js
 â”ƒ â”ƒ â”— ğŸ“œweather.config.js
 â”ƒ â”£ ğŸ“‚util
 â”ƒ â”ƒ â”£ ğŸ“œhandle-page.js
 â”ƒ â”ƒ â”— ğŸ“œutil.refactor.txt
 â”ƒ â”£ ğŸ“œ.DS_Store
 â”ƒ â”£ ğŸ“œ.env
 â”ƒ â”£ ğŸ“œ.env.sample
 â”ƒ â”£ ğŸ“œApp.jsx
 â”ƒ â”£ ğŸ“œapp.css
 â”ƒ â”— ğŸ“œmain.jsx
 â”£ ğŸ“œ.DS_Store
 â”£ ğŸ“œindex.html
 â”£ ğŸ“œpackage-lock.json
 â”£ ğŸ“œpackage.json
 â”£ ğŸ“œrefactor.txt
 â”£ ğŸ“œvite.config.js
 â”— ğŸ“œyarn.lock
```

---

### http ìš”ì²­ í•¨ìˆ˜ ë¶„ë¦¬

ê¸°ì¡´ ìŠ¤íŒŒê²Œí‹° ì½”ë“œì—ì„œëŠ” ê° í˜ì´ì§€ë§ˆë‹¤ http ìš”ì²­ í•¨ìˆ˜ë¥¼ ì“°ê³  ì¤‘ë³µëœ api ì£¼ì†Œì— ëŒ€í•œ ìš”ì²­ë„ ë§ì•˜ìŠµë‹ˆë‹¤.

ê·¸ë˜ì„œ ì €í¬ëŠ” apis í´ë”ì— ê° http ìš”ì²­ í•¨ìˆ˜ë¥¼ api ì£¼ì†Œì™€ ê´€ì‹¬ì‚¬ì— ë§ê²Œ ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤.

```

import { axiosInstance } from "./core";

export const getCommentData = async (paramsData) => {
  const res = await axiosInstance().get("/comments", {
    params: {
      page: paramsData.page,
      take: paramsData.take,
      limit: paramsData.limit,
    },
  });
  return res.data;
};

export const getPostData = async (paramsData) => {
  const res = await axiosInstance().get("/posts", {
    params: {
      page: paramsData.page,
      take: paramsData.take,
      limit: paramsData.limit,
    },
  });
  return res.data;
};

export const getDetailPostData = async () => {
  const res = await axiosInstance().get("/post");
  return res.data;
};

```

---

### consts í´ë” ìƒì„±

ê¸°ì¡´ ìŠ¤íŒŒê²Œí‹° ì½”ë“œì—ì„œ ê° í˜ì´ì§€ë§ˆë‹¤ í•„ìš”í•œ ê°’ì„ ìƒìˆ˜ë¡œ ì •ì˜í•´ì„œ ì‚¬ìš©í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.

í•´ë‹¹ ìƒìˆ˜ë“¤ì€ ì¤‘ë³µë˜ëŠ” ê°’ì´ ë§ì•˜ê³  ê°í˜ì´ì§€ ë§ˆë‹¤ ê°œë³„ë¡œ ì •ì˜ ë˜ì–´ ìˆì–´ì„œ ìœ ì§€ë³´ìˆ˜ê°€ í˜ë“¤ ê±° ê°™ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ consts í´ë” ìƒì„± í›„ ëª¨ë“ˆí™”í•˜ì—¬ ê´€ë¦¬í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.

```

export const DialogConfig = {
  ALERT: "ALERT",
  CONFIRM: "CONFIRM",
};

export const PaginationConfig = {
  LIMIT_PAGE: 10,
  LIMIT_TAKE: 20,
};

```

---

### í˜ì´ì§€ë„¤ì´ì…˜ ë¡œì§

ê¸°ì¡´ ì½”ë“œì—ì„œëŠ” CommentPageNationì™€ PostPageNationì˜ jsx ë¶€ë¶„ì´ ì™„ì „íˆ ë™ì¼í•˜ê³  request urlë§Œ ë‹¬ëìŠµë‹ˆë‹¤.

ê·¸ë˜ì„œ ì €í¬ëŠ” postListPageì™€ postDetailPageì—ì„œ api ìš”ì²­ ê°’ì¸ res.data.Paginationê°’ì„ í”„ë¡­ìœ¼ë¡œ ì „ë‹¬ ë°›ì•„,í˜ì´ì§€ë„¤ì´ì…˜ ë²„íŠ¼ì„ ìƒì„± í•´ì£¼ëŠ”

paginationBtn ê³µìš© ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

```
[ spaghetti code ] : pagenation.post.jsx

import axios from "axios";
import { useCallback, useEffect, useState } from "react";
import { useSearchParams } from "react-router-dom";

const LIMIT_PAGE = 10;
const LIMIT_TAKE = 20;

const PostPageNation = () => {
  const [params, setParams] = useSearchParams();
  const [pageNation, setPageNation] = useState();

  const fetchPostPageNation = useCallback(async () => {
    const response = await axios.get("/api/posts", {
      params: {
        page: params.get("page") ?? 1,
        take: params.get("take") ?? LIMIT_TAKE,
        limit: params.get("limit") ?? LIMIT_PAGE,
      },
    });
    const pageNation = response.data.PageNation;
    setPageNation({
      ...pageNation,
    });
  }, [params]);

  useEffect(() => {
    fetchPostPageNation();
  }, [fetchPostPageNation, params]);

  const onClickPage = (page) => {
    setParams({
      page,
    });
  };

  const isPrevPageVisible = pageNation?.startPage !== 1;
  const isNextPageVisible =
    Math.ceil(pageNation?.currentPage / LIMIT_PAGE) !==
    Math.ceil(pageNation?.totalPage / LIMIT_PAGE);

  return (
    <div>
      {isPrevPageVisible && (
        <button onClick={() => setParams({ page: pageNation.startPage - 1 })}>
          ì´ì „
        </button>
      )}
      {pageNation &&
        Array(pageNation.endPage - pageNation.startPage + 1)
          .fill()
          .map((_, i) => pageNation.startPage + i)
          .map((page) => (
            <button key={page} onClick={() => onClickPage(page)}>
              {page}
            </button>
          ))}
      {isNextPageVisible && (
        <button onClick={() => setParams({ page: pageNation.endPage + 1 })}>
          ë‹¤ìŒ
        </button>
      )}
    </div>
  );
};
export default PostPageNation;

```

```
[refactor code] : PagenationButton.jsx

const PagenationBtn = ({
  startPage,
  currentPage,
  totalPage,
  endPage,
  setParams,
  LIMIT_PAGE,
}) => {
  const isPrevPageVisible = startPage !== 1;
  const isNextPageVisible =
    Math.ceil(currentPage / LIMIT_PAGE) !== Math.ceil(totalPage / LIMIT_PAGE);

  const onClickPage = (page) => {
    setParams({
      page,
    });
  };

  return (
    <div>
      {isPrevPageVisible && (
        <button onClick={() => setParams({ page: startPage - 1 })}>ì´ì „</button>
      )}
      {Array(endPage - startPage + 1)
        .fill()
        .map((_, i) => startPage + i)
        .map((page) => (
          <button key={page} onClick={() => onClickPage(page)}>
            {page}
          </button>
        ))}
      {isNextPageVisible && (
        <button onClick={() => setParams({ page: endPage + 1 })}>ë‹¤ìŒ</button>
      )}
    </div>
  );
};
export default PagenationBtn;

```

---

### pages í´ë” ê´€ì‹¬ì‚¬ ë¶„ë¦¬

ê¸°ì¡´ ìŠ¤íŒŒê²Œí‹° ì½”ë“œì—ì„œëŠ” í•œ ì»´í¬ë„ŒíŠ¸ê°€ í•˜ëŠ” ê¸°ëŠ¥ì´ ë„ˆë¬´ ë§ë‹¤ê³  ëŠê¼ˆìŠµë‹ˆë‹¤.

ê·¸ë˜ì„œ ì €í¬ëŠ” ê° í˜ì´ì§€ ë§ˆë‹¤ components í´ë”ë¥¼ ë§Œë“¤ì–´ì„œ í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ê°€ í•˜ë‚˜ì˜ ê¸°ëŠ¥ë§Œ ë‹´ë‹¹ í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.

```
[spaghetti code] : Home.jsx

import { useEffect, useState } from "react";
import styled from "styled-components";
import axios from "axios";
import { weatherConfig } from "../third-party/weather.config";
import { DialLogState, useDiaLogStore } from "../contexts/DiaLogProvider";

const HomePage = () => {
  const [isBackGroundBlur, setIsBackGroundBlur] = useState(true);
  const [weather, setWeather] = useState();
  const [, setDiaLogAttribute] = useDiaLogStore();

  const fetchWeather = async () => {
    try {
      const response = await axios.get("/getUltraSrtNcst", {
        baseURL: weatherConfig.api,
        params: {
          serviceKey: weatherConfig.secret_key,
          dataType: "JSON",
          base_date: new Date()
            .toISOString()
            .substring(0, 10)
            .replace(/-/g, ""),
          base_time: "0600",
          nx: 60,
          ny: 127,
        },
      });
      setWeather(response.data.response.body.items.item);
    } catch (err) {
      console.log(err);
      throw new Error("failed to load weather api");
    }
  };
  /*
    http ìš”ì²­ í•¨ìˆ˜ ë¶„ë¦¬ì‹œí‚¤ê¸°
  */

  useEffect(() => {
    fetchWeather();
    const userName = localStorage.getItem("userName");
    if (!userName) {
      return setIsBackGroundBlur(true);
    } else setIsBackGroundBlur(false);
  }, []);

  const onSubmit = (e) => {
    e.preventDefault();
    const userName = e.target.userName.value.trim();
    if (!userName) return alert("ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”");
    localStorage.setItem("userName", userName);
    setIsBackGroundBlur(false);
    e.target.userName.value = "";
  };

  const onPressNavigateBlog = () => {
    setDiaLogAttribute({
      type: DialLogState.ALERT,
      text: "ì •ë§ë¡œ í˜ì´ì§€ë¥¼ ì´ë™í•˜ê² ìŠµë‹ˆê¹Œ",
      isOpen: true,
      onConfirm: async () => {
        await setDiaLogAttribute({ isOpen: false });
        window.location.href = "/posts";
      },
    });
  };

  return (
    <>
      {isBackGroundBlur && (
        <S.BlurBackGround>
          <S.UserNameForm onSubmit={onSubmit}>
            <input type="text" name="userName" placeholder="Enter your name" />
            <button type="submit">Submit</button>
          </S.UserNameForm>
        </S.BlurBackGround>
      )}
      <div>
        <h1>Home Page</h1>
        <p>ì˜¤ëŠ˜ì˜ ê¸°ì˜¨</p>
        <p>{weather?.find((el) => el.category === "T1H").obsrValue}ë„</p>
        <S.Button onClick={onPressNavigateBlog}>ë¸”ë¡œê·¸ ë³´ëŸ¬ê°€ê¸°</S.Button>
      </div>
    </>
  );
};
export default HomePage;

const BlurBackGround = styled.div`
  position: fixed;
  width: 100%;
  height: 100vh;
  z-index: 9999;
  backdrop-filter: blur(10px);
`;

const UserNameForm = styled.form`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
`;

const Button = styled.button``;

const S = {
  BlurBackGround,
  UserNameForm,
  Button,
};

```

```
[refactor code] : home.jsx

import { DialogConfig } from "../../consts/dialog.config";
import { useDiaLogStore } from "../../contexts/DiaLogProvider";
import UserName from "./components/username";
import Weather from "./components/weather";

const HomePage = () => {
  const { setKeepPrevDialogAttribute } = useDiaLogStore();

  const onPressNavigateBlog = () => {
    setKeepPrevDialogAttribute({
      type: DialogConfig.ALERT,
      text: "ì •ë§ë¡œ í˜ì´ì§€ë¥¼ ì´ë™í•˜ê² ìŠµë‹ˆê¹Œ?",
      isOpen: true,
      endPoint: "/posts",
    });
  };

  return (
    <>
      <UserName />
      <div>
        <Weather />
        <button onClick={onPressNavigateBlog}>ë¸”ë¡œê·¸ ë³´ëŸ¬ê°€ê¸°</button>
      </div>
    </>
  );
};
export default HomePage;


```

---

### diaLog

ê¸°ì¡´ diaLogAttribute ìƒíƒœëŠ” ë‹¤ë¥¸ ë¡œì§ê³¼ ì˜ì¡´ì„±ì´ ë†’ê³  ì¬ì‚¬ìš©ì„±ì´ ë‚®ë‹¤ê³  ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.

ê·¸ë˜ì„œ ì €í¬ëŠ” ê¸°ì¡´ navigate ê¸°ëŠ¥ì„ ë‹´ë‹¹í–ˆë˜ onConfirm, onCancel í•¨ìˆ˜ë¥¼ ì§€ìš°ê³  endPointë¼ëŠ” í‚¤ ê°’ì„ ìƒì„±í•˜ì—¬

DiaLog ì»´í¬ë„ŒíŠ¸ì—ì„œ í•´ë‹¹ endPointì˜ ê°’ì„ í™œìš©í•´ì„œ navigate ê¸°ëŠ¥ì„ ë‹´ë‹¹í•˜ê²Œ í–ˆìŠµë‹ˆë‹¤.

ë˜í•œ styleì ì¸ ê¸°ëŠ¥ì´ ë‹´ê¸´ position ê°’ë„ ë¶„ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.

ì¶”ê°€ë¡œ DiaLog ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹«ëŠ” ê¸°ëŠ¥ì˜ í•¨ìˆ˜ê°€ ì¤‘ë³µë˜ì–´ì„œ onCloseDiaLog í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ onCloseDiaLogí•¨ìˆ˜ë§Œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹«ëŠ”

ì—­í• ì„ í•˜ê²Œë” í–ˆìŠµë‹ˆë‹¤.

```
[spaghetti code] : Dialog.jsx

import React from "react";
import { DialLogState } from "../contexts/DiaLogProvider";
import { styled } from "styled-components";

const Dialog = React.forwardRef(
  ({ type, text, onConfirm, onCancel, onClose, position }, ref) => {
    return (
      <S.Wrapper ref={ref} $position={position}>
        <button onClick={onClose}>x</button>
        {text}
        <S.Button onClick={onConfirm}>í™•ì¸</S.Button>
        {type === DialLogState.CONFIRM && (
          <S.Button onClick={onCancel}>ì·¨ì†Œ</S.Button>
        )}
      </S.Wrapper>
    );
  }
);
// Debugging...
Dialog.displayName = "dialog";

export default Dialog;

```

```
[spaghetti code] : dialogê°€ post.list.jsx ì—ì„œ ì‚¬ìš©ëœ ëª¨ìŠµ

import axios from "axios";
import { useEffect, useState } from "react";
import PostPageNation from "../components/pagenation/Pagenation.Post";
import { useSearchParams } from "react-router-dom";
import { DialLogState, useDiaLogStore } from "../contexts/DiaLogProvider";

const LIMIT_TAKE = 10;
const PostListPage = () => {
  const [params] = useSearchParams();
  const [postList, setPostList] = useState([]);
  const [, setDiaLogAttribute] = useDiaLogStore();

  const fetchPostList = async () => {
    const response = await axios.get("/api/posts", {
      params: {
        take: params.get("take") ?? LIMIT_TAKE,
      },
    });
    setPostList(response.data.Posts);
  };

  useEffect(() => {
    const userName = localStorage.getItem("userName");
    if (!userName) {
      alert("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤");
      window.location.href = "/";
    }
  }, []);

  useEffect(() => {
    fetchPostList();
  }, [params]);

  const onClickPost = async (postId) => {
    await setDiaLogAttribute({
      type: DialLogState.CONFIRM,
      text: "ì •ë§ë¡œ í˜ì´ì§€ë¥¼ ì´ë™í•˜ê² ìŠµë‹ˆê¹Œ",
      isOpen: true,
      onConfirm: async () => {
        await setDiaLogAttribute({
          text: "ì •ë§ë¡œ ì´ë™í•´ë²„ë¦°ë‹¤ìš”!",
          onConfirm: async () => {
            window.location.href = `/post-detail/${postId}`;
          },
        });
      },
      onCancel: () => {
        setDiaLogAttribute({ isOpen: false });
      },
    });
  };

  return (
    <table>
      <caption>Post List Page</caption>
      <tr>
        <th>ì œëª©</th>
        <th>ë‚´ìš©</th>
        <th>ì‘ì„±ì</th>
      </tr>
      {postList.map((post) => (
        <tr key={post.id} onClick={() => onClickPost(post.id)}>
          <td>{post.title}</td>
          <td>{post.content}</td>
          <td>{post.User.nickName}</td>
        </tr>
      ))}
      <PostPageNation />
    </table>
  );
};
export default PostListPage;


```

```
[refactor code] : Dialog.jsx

import React, { useEffect } from "react";
import { useDiaLogStore } from "../contexts/DiaLogProvider";
import { DialogConfig } from "../consts/dialog.config";
import { styled } from "styled-components";

const Dialog = React.forwardRef(({ type, text, isOpen, endPoint }, ref) => {
  const { onCloseDiaLog } = useDiaLogStore();

  useEffect(() => {
    if (isOpen) return ref.current.showModal();
    ref.current.close();
  }, [isOpen]);

  const onMovePage = () => {
    onCloseDiaLog();
    window.location.href = endPoint;
  };

  const onMovePageCancel = () => {
    onCloseDiaLog();
  };

  return (
    <S.Wrapper ref={ref}>
      <button onClick={onCloseDiaLog}>x</button>
      {text}
      <S.Button onClick={onMovePage}>í™•ì¸</S.Button>
      {type === DialogConfig.CONFIRM && (
        <S.Button onClick={onMovePageCancel}>ì·¨ì†Œ</S.Button>
      )}
    </S.Wrapper>
  );
});

export default Dialog;

```

```
[refactor code] : dialogê°€ onePost.jsx ì—ì„œ ì‚¬ìš©ëœ ëª¨ìŠµ

import { DialogConfig } from "../../../consts/dialog.config";
import { useDiaLogStore } from "../../../contexts/DiaLogProvider";

const OnePost = ({ title, content, nickName, id }) => {
  const { setKeepPrevDialogAttribute } = useDiaLogStore();

  const onClickPost = (postId) => {
    setKeepPrevDialogAttribute({
      type: DialogConfig.CONFIRM,
      text: "ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™ í•˜ì‹¤?",
      isOpen: true,
      endPoint: `/post-detail/${postId}`,
    });
  };

  return (
    <tr onClick={() => onClickPost(id)}>
      <td>{title}</td>
      <td>{content}</td>
      <td>{nickName}</td>
    </tr>
  );
};

export default OnePost;


```

---

#### Common Memoirs : ê³µí†µ íšŒê³ 

ìŠ¤íŒŒê²Œí‹° ì½”ë“œë¥¼ ë¦¬íŒ©í„°ë§í•˜ë©´ì„œ ì²˜ìŒë¶€í„° í´ë” êµ¬ì¡°ì™€ ì¬ì‚¬ìš©ì„±, ëª¨ë“ˆí™”ë¥¼ ê³ ë ¤í•´ ì‘ì„±í•´ì•¼ê² ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.

ê¸°ëŠ¥ êµ¬í˜„ì— ê¸‰ê¸‰í•´ ê´€ì‹¬ì‚¬ ë¶„ë¦¬ë‚˜ ëª¨ë“ˆí™”ëŠ” ë‚˜ì¤‘ì— í•˜ì, í•˜ê³  ì‘ì„±í•˜ê²Œ ëœë‹¤ë©´ ìŠ¤íŒŒê²Œí‹° ì½”ë“œì²˜ëŸ¼ ì§œì—¬ì§ˆí…ë°,
ì´ë²ˆ ê¸°íšŒì— ë¦¬íŒ©í„°ë§ì„ í•˜ë©´ì„œ ë’¤ëŠ¦ì€ ë¶„ë¦¬ëŠ” ì˜¤íˆë ¤ ë” ë§ì€ ì‹œê°„ì´ ì†Œìš”ëœë‹¤ëŠ” ê²ƒì„ ì§ì ‘ ëŠê¼ˆìŠµë‹ˆë‹¤.
íŒ¨ìŠ¤ ë‚´ìš©ì— í¬í•¨ë˜ì–´ ìˆë˜ ë³´ì¼ëŸ¬ í…œí”Œë¦¿ì„ ì ê·¹ í™œìš©í•´ ìœ ì§€ë³´ìˆ˜ê°€ ìš©ì´í•œ DIê°€ ì–´ëŠ ì •ë„ ì ìš©ëœ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.
