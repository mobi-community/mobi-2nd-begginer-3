### Pair3 Amy , Jack , Daniel

### Í≥ºÏ†ú 4Î≤à - Î¶¨ÌéôÌÑ∞ÎßÅ ÌïòÍ∏∞

ÏΩîÎìú Ï†ÑÏ≤¥Ï†ÅÏúºÎ°ú ÌçºÏ†∏ÏûàÎçò ÏÉÅÏàòÎ°ú Ï†ïÏùò Îêú Î™ªÎÇúÎÜàÎì§ Î™®ÏïÑÎë† (ex limit , alert Îì±)

- ÌéòÏù¥ÎÑ§Ïù¥ÏÖò

- pages Ìè¥Îçî

- diaLog

```
üì¶spaghetti
 ‚î£ üìÇpublic
 ‚îÉ ‚î£ üìúmockServiceWorker.js
 ‚îÉ ‚îó üìúvite.svg
 ‚î£ üìÇsrc
 ‚îÉ ‚î£ üìÇ__mock__
 ‚îÉ ‚îÉ ‚î£ üìÇapi
 ‚îÉ ‚îÉ ‚îÉ ‚îó üìúpost.api.js
 ‚îÉ ‚îÉ ‚î£ üìÇdata
 ‚îÉ ‚îÉ ‚îÉ ‚îó üìúpost.data.js
 ‚îÉ ‚îÉ ‚î£ üìú.DS_Store
 ‚îÉ ‚îÉ ‚î£ üìúbrowser.js
 ‚îÉ ‚îÉ ‚îó üìúhandler.js
 ‚îÉ ‚î£ üìÇcomponents
 ‚îÉ ‚îÉ ‚î£ üìÇpagenation
 ‚îÉ ‚îÉ ‚îÉ ‚î£ üìúPagenation.Comment.jsx
 ‚îÉ ‚îÉ ‚îÉ ‚îó üìúPagenation.Post.jsx
 ‚îÉ ‚îÉ ‚î£ üìú.DS_Store
 ‚îÉ ‚îÉ ‚îó üìúDialog.jsx
 ‚îÉ ‚î£ üìÇcontexts
 ‚îÉ ‚îÉ ‚îó üìúDiaLogProvider.jsx
 ‚îÉ ‚î£ üìÇpages
 ‚îÉ ‚îÉ ‚î£ üìúHome.jsx
 ‚îÉ ‚îÉ ‚î£ üìúPost.Detail.jsx
 ‚îÉ ‚îÉ ‚îó üìúPost.List.jsx
 ‚îÉ ‚î£ üìÇthird-party
 ‚îÉ ‚îÉ ‚î£ üìúindex.js
 ‚îÉ ‚îÉ ‚îó üìúweather.config.js
 ‚îÉ ‚î£ üìú.DS_Store
 ‚îÉ ‚î£ üìúApp.jsx
 ‚îÉ ‚î£ üìúapp.css
 ‚îÉ ‚îó üìúmain.jsx
 ‚î£ üìú.DS_Store
 ‚î£ üìúindex.html
 ‚î£ üìúpackage-lock.json
 ‚î£ üìúpackage.json
 ‚î£ üìúvite.config.js
 ‚îó üìúyarn.lock
```

---

```
üì¶refactor
 ‚î£ üìÇ.vite
 ‚î£ üìÇpublic
 ‚îÉ ‚î£ üìúmockServiceWorker.js
 ‚îÉ ‚îó üìúvite.svg
 ‚î£ üìÇsrc
 ‚îÉ ‚î£ üìÇ__mock__
 ‚îÉ ‚îÉ ‚î£ üìÇapi
 ‚îÉ ‚îÉ ‚îÉ ‚îó üìúpost.api.js
 ‚îÉ ‚îÉ ‚î£ üìÇdata
 ‚îÉ ‚îÉ ‚îÉ ‚îó üìúpost.data.js
 ‚îÉ ‚îÉ ‚î£ üìú.DS_Store
 ‚îÉ ‚îÉ ‚î£ üìúbrowser.js
 ‚îÉ ‚îÉ ‚îó üìúhandler.js
 ‚îÉ ‚î£ üìÇapis
 ‚îÉ ‚îÉ ‚î£ üìúcore.js
 ‚îÉ ‚îÉ ‚î£ üìúpost.js
 ‚îÉ ‚îÉ ‚îó üìúweather.js
 ‚îÉ ‚î£ üìÇcomponents
 ‚îÉ ‚îÉ ‚î£ üìÇpagenation
 ‚îÉ ‚îÉ ‚îÉ ‚î£ üìúpagenation.button.jsx
 ‚îÉ ‚îÉ ‚îÉ ‚îó üìúpagination.txt
 ‚îÉ ‚îÉ ‚î£ üìú.DS_Store
 ‚îÉ ‚îÉ ‚îó üìúDialog.jsx
 ‚îÉ ‚î£ üìÇconsts
 ‚îÉ ‚îÉ ‚î£ üìúdialog.config.jsx
 ‚îÉ ‚îÉ ‚îó üìúpagenation.config.jsx
 ‚îÉ ‚î£ üìÇcontexts
 ‚îÉ ‚îÉ ‚îó üìúDiaLogProvider.jsx
 ‚îÉ ‚î£ üìÇpages
 ‚îÉ ‚îÉ ‚î£ üìÇhome
 ‚îÉ ‚îÉ ‚îÉ ‚î£ üìÇcomponents
 ‚îÉ ‚îÉ ‚îÉ ‚îÉ ‚î£ üìúusername.jsx
 ‚îÉ ‚îÉ ‚îÉ ‚îÉ ‚îó üìúweather.jsx
 ‚îÉ ‚îÉ ‚îÉ ‚î£ üìúhome.jsx
 ‚îÉ ‚îÉ ‚îÉ ‚îó üìúhomepage.txt
 ‚îÉ ‚îÉ ‚î£ üìÇpostDetail
 ‚îÉ ‚îÉ ‚îÉ ‚î£ üìÇcomponents
 ‚îÉ ‚îÉ ‚îÉ ‚îÉ ‚î£ üìúcommentList.jsx
 ‚îÉ ‚îÉ ‚îÉ ‚îÉ ‚î£ üìúdetailPost.jsx
 ‚îÉ ‚îÉ ‚îÉ ‚îÉ ‚îó üìúoneComment.jsx
 ‚îÉ ‚îÉ ‚îÉ ‚î£ üìúPost.Detail.jsx
 ‚îÉ ‚îÉ ‚îÉ ‚îó üìúpostDetail.txt
 ‚îÉ ‚îÉ ‚îó üìÇpostList
 ‚îÉ ‚îÉ ‚îÉ ‚î£ üìÇcomponents
 ‚îÉ ‚îÉ ‚îÉ ‚îÉ ‚î£ üìúonePost.jsx
 ‚îÉ ‚îÉ ‚îÉ ‚îÉ ‚îó üìúpostList.jsx
 ‚îÉ ‚îÉ ‚îÉ ‚î£ üìúpost.ListPage.jsx
 ‚îÉ ‚îÉ ‚îÉ ‚îó üìúpostList.txt
 ‚îÉ ‚î£ üìÇrouters
 ‚îÉ ‚îÉ ‚îó üìúrouter.js
 ‚îÉ ‚î£ üìÇthird-party
 ‚îÉ ‚îÉ ‚î£ üìúindex.js
 ‚îÉ ‚îÉ ‚îó üìúweather.config.js
 ‚îÉ ‚î£ üìÇutil
 ‚îÉ ‚îÉ ‚î£ üìúhandle-page.js
 ‚îÉ ‚îÉ ‚îó üìúutil.refactor.txt
 ‚îÉ ‚î£ üìú.DS_Store
 ‚îÉ ‚î£ üìú.env
 ‚îÉ ‚î£ üìú.env.sample
 ‚îÉ ‚î£ üìúApp.jsx
 ‚îÉ ‚î£ üìúapp.css
 ‚îÉ ‚îó üìúmain.jsx
 ‚î£ üìú.DS_Store
 ‚î£ üìúindex.html
 ‚î£ üìúpackage-lock.json
 ‚î£ üìúpackage.json
 ‚î£ üìúrefactor.txt
 ‚î£ üìúvite.config.js
 ‚îó üìúyarn.lock
```

---

### http ÏöîÏ≤≠ Ìï®Ïàò Î∂ÑÎ¶¨

Í∏∞Ï°¥ Ïä§ÌååÍ≤åÌã∞ ÏΩîÎìúÏóêÏÑúÎäî Í∞Å ÌéòÏù¥ÏßÄÎßàÎã§ http ÏöîÏ≤≠ Ìï®ÏàòÎ•º Ïì∞Í≥† Ï§ëÎ≥µÎêú api Ï£ºÏÜåÏóê ÎåÄÌïú ÏöîÏ≤≠ÎèÑ ÎßéÏïòÏäµÎãàÎã§.

Í∑∏ÎûòÏÑú Ï†ÄÌù¨Îäî apis Ìè¥ÎçîÏóê Í∞Å http ÏöîÏ≤≠ Ìï®ÏàòÎ•º api Ï£ºÏÜåÏôÄ Í¥ÄÏã¨ÏÇ¨Ïóê ÎßûÍ≤å Î∂ÑÎ¶¨ÌñàÏäµÎãàÎã§.

```

import { axiosInstance } from "./core";

export const getCommentData = async (paramsData) => {
  const res = await axiosInstance().get("/comments", {
    params: {
      page: paramsData.page,
      take: paramsData.take,
      limit: paramsData.limit,
    },
  });
  return res.data;
};

export const getPostData = async (paramsData) => {
  const res = await axiosInstance().get("/posts", {
    params: {
      page: paramsData.page,
      take: paramsData.take,
      limit: paramsData.limit,
    },
  });
  return res.data;
};

export const getDetailPostData = async () => {
  const res = await axiosInstance().get("/post");
  return res.data;
};

```

---

### consts Ìè¥Îçî ÏÉùÏÑ±

Í∏∞Ï°¥ Ïä§ÌååÍ≤åÌã∞ ÏΩîÎìúÏóêÏÑú Í∞Å ÌéòÏù¥ÏßÄÎßàÎã§ ÌïÑÏöîÌïú Í∞íÏùÑ ÏÉÅÏàòÎ°ú Ï†ïÏùòÌï¥ÏÑú ÏÇ¨Ïö©ÌïòÍ≥† ÏûàÏóàÏäµÎãàÎã§.

Ìï¥Îãπ ÏÉÅÏàòÎì§ÏùÄ Ï§ëÎ≥µÎêòÎäî Í∞íÏù¥ ÎßéÏïòÍ≥† Í∞ÅÌéòÏù¥ÏßÄ ÎßàÎã§ Í∞úÎ≥ÑÎ°ú Ï†ïÏùò ÎêòÏñ¥ ÏûàÏñ¥ÏÑú Ïú†ÏßÄÎ≥¥ÏàòÍ∞Ä ÌûòÎì§ Í±∞ Í∞ôÎã§Í≥† ÏÉùÍ∞ÅÌñàÏäµÎãàÎã§.

Îî∞ÎùºÏÑú consts Ìè¥Îçî ÏÉùÏÑ± ÌõÑ Î™®ÎìàÌôîÌïòÏó¨ Í¥ÄÎ¶¨ÌïòÍ∏∞Î°ú ÌñàÏäµÎãàÎã§.

```

export const DialogConfig = {
  ALERT: "ALERT",
  CONFIRM: "CONFIRM",
};

export const PaginationConfig = {
  LIMIT_PAGE: 10,
  LIMIT_TAKE: 20,
};

```

---

### ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò Î°úÏßÅ

Í∏∞Ï°¥ ÏΩîÎìúÏóêÏÑúÎäî CommentPageNationÏôÄ PostPageNationÏùò jsx Î∂ÄÎ∂ÑÏù¥ ÏôÑÏ†ÑÌûà ÎèôÏùºÌïòÍ≥† request urlÎßå Îã¨ÎûêÏäµÎãàÎã§.

Í∑∏ÎûòÏÑú Ï†ÄÌù¨Îäî postListPageÏôÄ postDetailPageÏóêÏÑú api ÏöîÏ≤≠ Í∞íÏù∏ res.data.PaginationÍ∞íÏùÑ ÌîÑÎ°≠ÏúºÎ°ú Ï†ÑÎã¨ Î∞õÏïÑ,ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò Î≤ÑÌäºÏùÑ ÏÉùÏÑ± Ìï¥Ï£ºÎäî

paginationBtn Í≥µÏö© Ïª¥Ìè¨ÎÑåÌä∏Î•º ÎßåÎì§ÏóàÏäµÎãàÎã§.

```
[ spaghetti code ] : pagenation.post.jsx

import axios from "axios";
import { useCallback, useEffect, useState } from "react";
import { useSearchParams } from "react-router-dom";

const LIMIT_PAGE = 10;
const LIMIT_TAKE = 20;

const PostPageNation = () => {
  const [params, setParams] = useSearchParams();
  const [pageNation, setPageNation] = useState();

  const fetchPostPageNation = useCallback(async () => {
    const response = await axios.get("/api/posts", {
      params: {
        page: params.get("page") ?? 1,
        take: params.get("take") ?? LIMIT_TAKE,
        limit: params.get("limit") ?? LIMIT_PAGE,
      },
    });
    const pageNation = response.data.PageNation;
    setPageNation({
      ...pageNation,
    });
  }, [params]);

  useEffect(() => {
    fetchPostPageNation();
  }, [fetchPostPageNation, params]);

  const onClickPage = (page) => {
    setParams({
      page,
    });
  };

  const isPrevPageVisible = pageNation?.startPage !== 1;
  const isNextPageVisible =
    Math.ceil(pageNation?.currentPage / LIMIT_PAGE) !==
    Math.ceil(pageNation?.totalPage / LIMIT_PAGE);

  return (
    <div>
      {isPrevPageVisible && (
        <button onClick={() => setParams({ page: pageNation.startPage - 1 })}>
          Ïù¥Ï†Ñ
        </button>
      )}
      {pageNation &&
        Array(pageNation.endPage - pageNation.startPage + 1)
          .fill()
          .map((_, i) => pageNation.startPage + i)
          .map((page) => (
            <button key={page} onClick={() => onClickPage(page)}>
              {page}
            </button>
          ))}
      {isNextPageVisible && (
        <button onClick={() => setParams({ page: pageNation.endPage + 1 })}>
          Îã§Ïùå
        </button>
      )}
    </div>
  );
};
export default PostPageNation;

```

```
[refactor code] : PagenationButton.jsx

const PagenationBtn = ({
  startPage,
  currentPage,
  totalPage,
  endPage,
  setParams,
  LIMIT_PAGE,
}) => {
  const isPrevPageVisible = startPage !== 1;
  const isNextPageVisible =
    Math.ceil(currentPage / LIMIT_PAGE) !== Math.ceil(totalPage / LIMIT_PAGE);

  const onClickPage = (page) => {
    setParams({
      page,
    });
  };

  return (
    <div>
      {isPrevPageVisible && (
        <button onClick={() => setParams({ page: startPage - 1 })}>Ïù¥Ï†Ñ</button>
      )}
      {Array(endPage - startPage + 1)
        .fill()
        .map((_, i) => startPage + i)
        .map((page) => (
          <button key={page} onClick={() => onClickPage(page)}>
            {page}
          </button>
        ))}
      {isNextPageVisible && (
        <button onClick={() => setParams({ page: endPage + 1 })}>Îã§Ïùå</button>
      )}
    </div>
  );
};
export default PagenationBtn;

```

---

### pages Ìè¥Îçî Í¥ÄÏã¨ÏÇ¨ Î∂ÑÎ¶¨

Í∏∞Ï°¥ Ïä§ÌååÍ≤åÌã∞ ÏΩîÎìúÏóêÏÑúÎäî Ìïú Ïª¥Ìè¨ÎÑåÌä∏Í∞Ä ÌïòÎäî Í∏∞Îä•Ïù¥ ÎÑàÎ¨¥ ÎßéÎã§Í≥† ÎäêÍºàÏäµÎãàÎã§.

Í∑∏ÎûòÏÑú Ï†ÄÌù¨Îäî Í∞Å ÌéòÏù¥ÏßÄ ÎßàÎã§ components Ìè¥ÎçîÎ•º ÎßåÎì§Ïñ¥ÏÑú ÌïòÎÇòÏùò Ïª¥Ìè¨ÎÑåÌä∏Í∞Ä ÌïòÎÇòÏùò Í∏∞Îä•Îßå Îã¥Îãπ Ìï† Ïàò ÏûàÎèÑÎ°ù ÌñàÏäµÎãàÎã§.

```
[spaghetti code] : Home.jsx

import { useEffect, useState } from "react";
import styled from "styled-components";
import axios from "axios";
import { weatherConfig } from "../third-party/weather.config";
import { DialLogState, useDiaLogStore } from "../contexts/DiaLogProvider";

const HomePage = () => {
  const [isBackGroundBlur, setIsBackGroundBlur] = useState(true);
  const [weather, setWeather] = useState();
  const [, setDiaLogAttribute] = useDiaLogStore();

  const fetchWeather = async () => {
    try {
      const response = await axios.get("/getUltraSrtNcst", {
        baseURL: weatherConfig.api,
        params: {
          serviceKey: weatherConfig.secret_key,
          dataType: "JSON",
          base_date: new Date()
            .toISOString()
            .substring(0, 10)
            .replace(/-/g, ""),
          base_time: "0600",
          nx: 60,
          ny: 127,
        },
      });
      setWeather(response.data.response.body.items.item);
    } catch (err) {
      console.log(err);
      throw new Error("failed to load weather api");
    }
  };
  /*
    http ÏöîÏ≤≠ Ìï®Ïàò Î∂ÑÎ¶¨ÏãúÌÇ§Í∏∞
  */

  useEffect(() => {
    fetchWeather();
    const userName = localStorage.getItem("userName");
    if (!userName) {
      return setIsBackGroundBlur(true);
    } else setIsBackGroundBlur(false);
  }, []);

  const onSubmit = (e) => {
    e.preventDefault();
    const userName = e.target.userName.value.trim();
    if (!userName) return alert("Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî");
    localStorage.setItem("userName", userName);
    setIsBackGroundBlur(false);
    e.target.userName.value = "";
  };

  const onPressNavigateBlog = () => {
    setDiaLogAttribute({
      type: DialLogState.ALERT,
      text: "Ï†ïÎßêÎ°ú ÌéòÏù¥ÏßÄÎ•º Ïù¥ÎèôÌïòÍ≤†ÏäµÎãàÍπå",
      isOpen: true,
      onConfirm: async () => {
        await setDiaLogAttribute({ isOpen: false });
        window.location.href = "/posts";
      },
    });
  };

  return (
    <>
      {isBackGroundBlur && (
        <S.BlurBackGround>
          <S.UserNameForm onSubmit={onSubmit}>
            <input type="text" name="userName" placeholder="Enter your name" />
            <button type="submit">Submit</button>
          </S.UserNameForm>
        </S.BlurBackGround>
      )}
      <div>
        <h1>Home Page</h1>
        <p>Ïò§ÎäòÏùò Í∏∞Ïò®</p>
        <p>{weather?.find((el) => el.category === "T1H").obsrValue}ÎèÑ</p>
        <S.Button onClick={onPressNavigateBlog}>Î∏îÎ°úÍ∑∏ Î≥¥Îü¨Í∞ÄÍ∏∞</S.Button>
      </div>
    </>
  );
};
export default HomePage;

const BlurBackGround = styled.div`
  position: fixed;
  width: 100%;
  height: 100vh;
  z-index: 9999;
  backdrop-filter: blur(10px);
`;

const UserNameForm = styled.form`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
`;

const Button = styled.button``;

const S = {
  BlurBackGround,
  UserNameForm,
  Button,
};

```

```
[refactor code] : home.jsx

import { DialogConfig } from "../../consts/dialog.config";
import { useDiaLogStore } from "../../contexts/DiaLogProvider";
import UserName from "./components/username";
import Weather from "./components/weather";

const HomePage = () => {
  const { setKeepPrevDialogAttribute } = useDiaLogStore();

  const onPressNavigateBlog = () => {
    setKeepPrevDialogAttribute({
      type: DialogConfig.ALERT,
      text: "Ï†ïÎßêÎ°ú ÌéòÏù¥ÏßÄÎ•º Ïù¥ÎèôÌïòÍ≤†ÏäµÎãàÍπå?",
      isOpen: true,
      endPoint: "/posts",
    });
  };

  return (
    <>
      <UserName />
      <div>
        <Weather />
        <button onClick={onPressNavigateBlog}>Î∏îÎ°úÍ∑∏ Î≥¥Îü¨Í∞ÄÍ∏∞</button>
      </div>
    </>
  );
};
export default HomePage;


```

---

### diaLog

Í∏∞Ï°¥ diaLogAttribute ÏÉÅÌÉúÎäî Îã§Î•∏ Î°úÏßÅÍ≥º ÏùòÏ°¥ÏÑ±Ïù¥ ÎÜíÍ≥† Ïû¨ÏÇ¨Ïö©ÏÑ±Ïù¥ ÎÇÆÎã§Í≥† ÏÉùÍ∞ÅÏù¥ Îì§ÏóàÏäµÎãàÎã§.

Í∑∏ÎûòÏÑú Ï†ÄÌù¨Îäî Í∏∞Ï°¥ navigate Í∏∞Îä•ÏùÑ Îã¥ÎãπÌñàÎçò onConfirm, onCancel Ìï®ÏàòÎ•º ÏßÄÏö∞Í≥† endPointÎùºÎäî ÌÇ§ Í∞íÏùÑ ÏÉùÏÑ±ÌïòÏó¨

DiaLog Ïª¥Ìè¨ÎÑåÌä∏ÏóêÏÑú Ìï¥Îãπ endPointÏùò Í∞íÏùÑ ÌôúÏö©Ìï¥ÏÑú navigate Í∏∞Îä•ÏùÑ Îã¥ÎãπÌïòÍ≤å ÌñàÏäµÎãàÎã§.

ÎòêÌïú styleÏ†ÅÏù∏ Í∏∞Îä•Ïù¥ Îã¥Í∏¥ position Í∞íÎèÑ Î∂ÑÎ¶¨ÌïòÏòÄÏäµÎãàÎã§.

Ï∂îÍ∞ÄÎ°ú DiaLog Ïª¥Ìè¨ÎÑåÌä∏Î•º Îã´Îäî Í∏∞Îä•Ïùò Ìï®ÏàòÍ∞Ä Ï§ëÎ≥µÎêòÏñ¥ÏÑú onCloseDiaLog Ìï®ÏàòÎ•º ÎßåÎì§Ïñ¥ onCloseDiaLogÌï®ÏàòÎßå Ïª¥Ìè¨ÎÑåÌä∏Î•º Îã´Îäî

Ïó≠Ìï†ÏùÑ ÌïòÍ≤åÎÅî ÌñàÏäµÎãàÎã§.

```
[spaghetti code] : Dialog.jsx

import React from "react";
import { DialLogState } from "../contexts/DiaLogProvider";
import { styled } from "styled-components";

const Dialog = React.forwardRef(
  ({ type, text, onConfirm, onCancel, onClose, position }, ref) => {
    return (
      <S.Wrapper ref={ref} $position={position}>
        <button onClick={onClose}>x</button>
        {text}
        <S.Button onClick={onConfirm}>ÌôïÏù∏</S.Button>
        {type === DialLogState.CONFIRM && (
          <S.Button onClick={onCancel}>Ï∑®ÏÜå</S.Button>
        )}
      </S.Wrapper>
    );
  }
);
// Debugging...
Dialog.displayName = "dialog";

export default Dialog;

```

```
[spaghetti code] : dialogÍ∞Ä post.list.jsx ÏóêÏÑú ÏÇ¨Ïö©Îêú Î™®Ïäµ

import axios from "axios";
import { useEffect, useState } from "react";
import PostPageNation from "../components/pagenation/Pagenation.Post";
import { useSearchParams } from "react-router-dom";
import { DialLogState, useDiaLogStore } from "../contexts/DiaLogProvider";

const LIMIT_TAKE = 10;
const PostListPage = () => {
  const [params] = useSearchParams();
  const [postList, setPostList] = useState([]);
  const [, setDiaLogAttribute] = useDiaLogStore();

  const fetchPostList = async () => {
    const response = await axios.get("/api/posts", {
      params: {
        take: params.get("take") ?? LIMIT_TAKE,
      },
    });
    setPostList(response.data.Posts);
  };

  useEffect(() => {
    const userName = localStorage.getItem("userName");
    if (!userName) {
      alert("Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§");
      window.location.href = "/";
    }
  }, []);

  useEffect(() => {
    fetchPostList();
  }, [params]);

  const onClickPost = async (postId) => {
    await setDiaLogAttribute({
      type: DialLogState.CONFIRM,
      text: "Ï†ïÎßêÎ°ú ÌéòÏù¥ÏßÄÎ•º Ïù¥ÎèôÌïòÍ≤†ÏäµÎãàÍπå",
      isOpen: true,
      onConfirm: async () => {
        await setDiaLogAttribute({
          text: "Ï†ïÎßêÎ°ú Ïù¥ÎèôÌï¥Î≤ÑÎ¶∞Îã§Ïöî!",
          onConfirm: async () => {
            window.location.href = `/post-detail/${postId}`;
          },
        });
      },
      onCancel: () => {
        setDiaLogAttribute({ isOpen: false });
      },
    });
  };

  return (
    <table>
      <caption>Post List Page</caption>
      <tr>
        <th>Ï†úÎ™©</th>
        <th>ÎÇ¥Ïö©</th>
        <th>ÏûëÏÑ±Ïûê</th>
      </tr>
      {postList.map((post) => (
        <tr key={post.id} onClick={() => onClickPost(post.id)}>
          <td>{post.title}</td>
          <td>{post.content}</td>
          <td>{post.User.nickName}</td>
        </tr>
      ))}
      <PostPageNation />
    </table>
  );
};
export default PostListPage;


```

```
[refactor code] : Dialog.jsx

import React, { useEffect } from "react";
import { useDiaLogStore } from "../contexts/DiaLogProvider";
import { DialogConfig } from "../consts/dialog.config";
import { styled } from "styled-components";

const Dialog = React.forwardRef(({ type, text, isOpen, endPoint }, ref) => {
  const { onCloseDiaLog } = useDiaLogStore();

  useEffect(() => {
    if (isOpen) return ref.current.showModal();
    ref.current.close();
  }, [isOpen]);

  const onMovePage = () => {
    onCloseDiaLog();
    window.location.href = endPoint;
  };

  const onMovePageCancel = () => {
    onCloseDiaLog();
  };

  return (
    <S.Wrapper ref={ref}>
      <button onClick={onCloseDiaLog}>x</button>
      {text}
      <S.Button onClick={onMovePage}>ÌôïÏù∏</S.Button>
      {type === DialogConfig.CONFIRM && (
        <S.Button onClick={onMovePageCancel}>Ï∑®ÏÜå</S.Button>
      )}
    </S.Wrapper>
  );
});

export default Dialog;

```

```
[refactor code] : dialogÍ∞Ä onePost.jsx ÏóêÏÑú ÏÇ¨Ïö©Îêú Î™®Ïäµ

import { DialogConfig } from "../../../consts/dialog.config";
import { useDiaLogStore } from "../../../contexts/DiaLogProvider";

const OnePost = ({ title, content, nickName, id }) => {
  const { setKeepPrevDialogAttribute } = useDiaLogStore();

  const onClickPost = (postId) => {
    setKeepPrevDialogAttribute({
      type: DialogConfig.CONFIRM,
      text: "ÏÉÅÏÑ∏ ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô ÌïòÏã§?",
      isOpen: true,
      endPoint: `/post-detail/${postId}`,
    });
  };

  return (
    <tr onClick={() => onClickPost(id)}>
      <td>{title}</td>
      <td>{content}</td>
      <td>{nickName}</td>
    </tr>
  );
};

export default OnePost;


```

---

#### Common Memoirs : Í≥µÌÜµ ÌöåÍ≥†

Ïä§ÌååÍ≤åÌã∞ ÏΩîÎìúÎ•º Î¶¨Ìå©ÌÑ∞ÎßÅÌïòÎ©¥ÏÑú Ï≤òÏùåÎ∂ÄÌÑ∞ Ìè¥Îçî Íµ¨Ï°∞ÏôÄ Ïû¨ÏÇ¨Ïö©ÏÑ±, Î™®ÎìàÌôîÎ•º Í≥†Î†§Ìï¥ ÏûëÏÑ±Ìï¥ÏïºÍ≤†Îã§Í≥† ÏÉùÍ∞ÅÌñàÏäµÎãàÎã§.

Í∏∞Îä• Íµ¨ÌòÑÏóê Í∏âÍ∏âÌï¥ Í¥ÄÏã¨ÏÇ¨ Î∂ÑÎ¶¨ÎÇò Î™®ÎìàÌôîÎäî ÎÇòÏ§ëÏóê ÌïòÏûê, ÌïòÍ≥† ÏûëÏÑ±ÌïòÍ≤å ÎêúÎã§Î©¥ Ïä§ÌååÍ≤åÌã∞ ÏΩîÎìúÏ≤òÎüº ÏßúÏó¨ÏßàÌÖêÎç∞,
Ïù¥Î≤à Í∏∞ÌöåÏóê Î¶¨Ìå©ÌÑ∞ÎßÅÏùÑ ÌïòÎ©¥ÏÑú Îí§Îä¶ÏùÄ Î∂ÑÎ¶¨Îäî Ïò§ÌûàÎ†§ Îçî ÎßéÏùÄ ÏãúÍ∞ÑÏù¥ ÏÜåÏöîÎêúÎã§Îäî Í≤ÉÏùÑ ÏßÅÏ†ë ÎäêÍºàÏäµÎãàÎã§.
Ìå®Ïä§ ÎÇ¥Ïö©Ïóê Ìè¨Ìï®ÎêòÏñ¥ ÏûàÎçò Î≥¥ÏùºÎü¨ ÌÖúÌîåÎ¶øÏùÑ Ï†ÅÍ∑π ÌôúÏö©Ìï¥ Ïú†ÏßÄÎ≥¥ÏàòÍ∞Ä Ïö©Ïù¥Ìïú DIÍ∞Ä Ïñ¥Îäê Ï†ïÎèÑ Ï†ÅÏö©Îêú ÏΩîÎìúÎ•º ÏûëÏÑ±ÌïòÎäî Í≤ÉÏù¥ Ï¢ãÏùÑ Í≤É Í∞ôÏäµÎãàÎã§.
